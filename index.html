<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>쿠팡 셔틀버스 노선 지도</title>
    <meta name="description" content="쿠팡 물류센터 셔틀버스 노선을 지도에서 확인하세요.">
    <!-- Mobile Web App -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0F172A">
    <meta name="mobile-web-app-capable" content="yes">
    <!-- Pretendard Font -->
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- App CSS -->
    <link rel="stylesheet" href="style.css">
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>

<body>
    <div id="map"></div>

    <!-- Mobile Top Bar (shown on mobile only) -->
    <div class="mobile-topbar" id="mobile-topbar">
        <div class="topbar-title">🚌 쿠팡 셔틀지도</div>
    </div>

    <aside class="sidebar" id="sidebar">
        <div class="drag-handle" id="drag-handle">
            <div class="drag-bar"></div>
        </div>
        <div class="mini-info" id="mini-info">위로 밀어 올려 센터를 선택하세요</div>
        <header class="header">
            <h1>🚌 쿠팡 셔틀지도</h1>
            <p id="subtitle">전국 물류센터 셔틀버스 노선 안내</p>
        </header>

        <!-- Search -->
        <div class="search-box">
            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" id="fc-search" placeholder="센터 검색 (예: GOY1, 고양)" autocomplete="off">
            <div class="search-results" id="search-results"></div>
        </div>

        <section class="controls">
            <div class="control-group">
                <label for="fc-select">센터 (FC)</label>
                <select id="fc-select">
                    <option value="">센터를 선택하세요</option>
                </select>
            </div>

            <div class="control-group">
                <label for="shift-select">근무조</label>
                <select id="shift-select" disabled>
                    <option value="">근무조를 선택하세요</option>
                </select>
            </div>

            <div class="control-group">
                <label for="route-select">노선</label>
                <select id="route-select" disabled>
                    <option value="">노선을 선택하세요</option>
                </select>
            </div>
        </section>

        <!-- Center Info Card -->
        <div id="center-info" class="center-info-card" style="display:none;">
            <div class="center-info-header">
                <div class="center-info-icon">🏭</div>
                <div class="center-info-text">
                    <div class="center-info-name" id="center-name"></div>
                    <div class="center-info-addr" id="center-addr"></div>
                </div>
            </div>
            <div class="center-info-links">
                <a id="center-shuttle-link" href="#" target="_blank" class="center-link shuttle-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="3" y1="9" x2="21" y2="9"></line>
                        <line x1="9" y1="21" x2="9" y2="9"></line>
                    </svg>
                    셔틀 홈페이지
                </a>
                <a id="center-map-link" href="#" target="_blank" class="center-link map-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                        <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                    네이버 지도
                </a>
            </div>
        </div>

        <!-- Route Stats -->
        <div id="route-stats" class="route-stats" style="display:none;">
            <div class="stat-item">
                <span class="stat-value" id="stat-stops">0</span>
                <span class="stat-label">정류장</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="stat-first">-</span>
                <span class="stat-label">첫 출발</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="stat-last">-</span>
                <span class="stat-label">마지막</span>
            </div>
        </div>

        <section id="route-details" class="route-info" style="display: none;">
            <label id="route-title">📍 노선 정류장</label>
            <div id="stop-list" class="stop-list"></div>
        </section>
    </aside>

    <!-- Toggle Sidebar -->
    <button class="sidebar-toggle" id="sidebar-toggle" title="사이드바 토글">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>

    <!-- Floating Actions -->
    <div class="floating-actions">
        <button class="btn-float" id="btn-overview" title="전체 보기">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2">
                <path d="M1 6v16l7-4 8 4 7-4V2l-7 4-8-4-7 4z"></path>
                <line x1="8" y1="2" x2="8" y2="18"></line>
                <line x1="16" y1="6" x2="16" y2="22"></line>
            </svg>
        </button>
        <button class="btn-float" id="btn-mylocation" title="내 위치">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="4"></circle>
                <line x1="1.05" y1="12" x2="7" y2="12"></line>
                <line x1="17.01" y1="12" x2="22.96" y2="12"></line>
                <line x1="12" y1="1" x2="12" y2="7"></line>
                <line x1="12" y1="17.01" x2="12" y2="22"></line>
            </svg>
        </button>
        <button class="btn-float" id="btn-recenter" title="센터로 이동">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="22" y1="12" x2="18" y2="12"></line>
                <line x1="6" y1="12" x2="2" y2="12"></line>
                <line x1="12" y1="6" x2="12" y2="2"></line>
                <line x1="12" y1="22" x2="12" y2="18"></line>
            </svg>
        </button>
    </div>

    <!-- App Logic -->
    <script src="app.js"></script>
</body>

</html>